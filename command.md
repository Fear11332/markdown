<!DOCTYPE html>
<html>
<head>
    <style>
        body {
            background-image: url('back2.jpeg');
            background-size: cover; /* чтобы изображение занимало всю площадь */
            background-repeat: no-repeat; /* чтобы изображение не повторялось */
        }
    </style>
</head>
<body>


### Основные команды Git

---

**Создание репозитория**

Есть два варианта создания репозитория:

1. **Создание локального репозитория**

2. **Клонирования существующего репозитория**

---

**Создание репозитория на основе имеющегося каталога с файлами** 

Для начала преходим в каталог с проектом командой:

`cd <путь до катаолга с нужными файлами>`

После чего используем команду:

`git init`

и тем самым создаем в текущем каталоге подкаталог `.git`, это и есть каталог **Git**, который хранит данные нужные гиту и снапы(копии состояний файлов всего проекта на какой то момент времени).

Увидеть это каталог можно используя команду:

`ls -a`

После создания репозитория давайте добавим какой нибудь файл в каталог, далее добавим его в индекс и заффиксируем коммитом:

```
touch file
git add file
git commit -m 'initial commit'
```
-m позволяет указать комментарии в следующей за ним строке

---

**Клонирование существующего репозитория**

Для копирования репозитория используется команда:

`git clone <url>`

    Пример:
    Допустим мы хотим клонировать
    репозиторий с исходниками php

    https://github.com/php/php-src.git

    для этого мы набираем команду

    git clone https://github.com/php/php-src.git

    и в текущем каталоге сразу создается каталог с названием репозитрия php-src и инициализирутеся .git, скачиваются все данные для этого репозитория и извлекается рабочая копия последний версии.

Для клонирования репозитория в конкретный каталог используйте команды:

`git clone <url> <directory name>`

---

**Фиксация изменений в репозиторий**

Каждый файл в рабочем каталоге может находиться в одном из двух состояний:

1. **Под контролем системы контроля версий(отслеживаемый)**

2. **Не под системой контроля версий(неотслеживаемый)**

**Отслеживаемые**-файлы, который попали в последнюю фиксацию изменений и уже находятся в снимке проекта.По сути это те файлы, о которых знает система контроля версий **Git**.

**Неотслеживаемые**-те файлы, которые не находятся в последнем снимке проекта, где находятся все файлы проекта, также эти файлы еще не попали в индекс.По сути **Git** не отслеживает их изменения и никак это не фиксирует.

**Команды для определения состояния файлов проекта**

Чтобы проверить то , как видит файлы **Git**, нужно использовать команду:

`git status`

    Пример:

    Допустим у нас есть локальный репозиторий, в котором есть папка .git, сам католого называется test.Введем команду git status, чтобы посмотреть что выведет про каталог Git

    git status 

    Текущая ветка: master
    Эта ветка соответствует «origin/master».

    нечего коммитить, нет изменений в рабочем каталоге

    Этот вывод говорит о том что у нас чистый рабочий каталог, то есть в нем нет отслеживаемых изменений.Также Git не обнаружил неотслеживаемых файлов.Также команда сообщает нам на какой ветки мы находимся, эта ветка master, не расходится с веткой на удаленном сервере GitHub под названием origin.

    Допустим добавим мы в каталог файл hello.txt

    touch hello.txt
    git status

    Текущая ветка: master
    Эта ветка соответствует «origin/master».
    Неотслеживаемые файлы:
    (используйте «git add <файл>...», чтобы добавить в то, что будет включено в коммит)
        hello.txt

    индекс пуст, но есть неотслеживаемые файлы
    (используйте «git add», чтобы проиндексировать их)

    Git любезно нам сообщает что индекс пуст, то есть при следующей фиксации нечего будет добвить в снап.Также мы видим что появился файл hello.txt но Git пока его не отслеживает.Для того чтобы сделать файл отслеживаемым, нужно использовать команду 

    git add <имя файл(а/лов)>

    Давайте сделаем файл hello.txt отслежваемым

    git add hello.txt
    git status

    Текущая ветка: master
    Эта ветка соответствует «origin/master».

    Изменения, которые будут включены в коммит:
    (используйте «git restore --staged <файл>...», чтобы убрать из индекса)
        новый файл:    hello.txt

    Таким образом мы сделали hello.txt отслеживаемым, то есть при следующей фиксации изменений, наш файл из индексного списка попадет в новый снап всего проекта со всеми изменениями.

    Также можно сделать файл неотслеживаемым используя команду 

    git restore --staged <файл/ы>

    то есть по сути мы убираем файл из индексной области или из списка , из которого будет формироваться фиксация изменений и дальнейшее добавления файлов в снимок проекта.

    Давайте завиксируем изменения и добавим наш файл hello.txt в базу гита.Так как наш файл находится в инлексе, нам нужно добавить его в каталог Git.Для этого используем команду 

    git commit -m "add hello.txt"

    [master 55650c3] add hello.txt
    1 file changed, 0 insertions(+), 0 deletions(-)
    create mode 100644 hello.txt

    Мы создали свой первый коммти(не считая коммита при инициализации репозитория)!

    Давайте разберем что же сообщает нам информация коммита:

        1. На какую ветку был   
        выполнен коммит(master)

        2. Хэш-сумма коммита(55650c3)

        3. Сколько файлов было изменено

        4. Статистика по добавленным/удаленным строкам в это коммите


    и проверяем состояние каталога уже известной командой 

    git status 

    Текущая ветка: master
    Ваша ветка опережает «origin/master» на 1 коммит.
    (используйте «git push», чтобы опубликовать ваши локальные коммиты)

    нечего коммитить, нет изменений в рабочем каталоге

    Отсюда видно, что локальный репозиторий опережвает удаленный на один коммит, все верно, мы пока что не отправили(push) изменения на сервер.

---

**gitignore**

Представим ситуацию, когда есть какие то файлы(каталоги), которые вы по каким то причинам не хотите отслеживать.Для того чтобы Git отслеживал файлы(каталоги), нужно написать файл **.gitignore**,в котором перечислить все файлы, которые Git не долджен отслеживать.

Создадим файлы **.gitogore** и добавим в него шаблоны файлов(каталогов), которые гит не должен отслеживать:

`touch .gitignore`

Далее добавим в этот файл шаблон, который описывет все текстовые файлы, который заканчиваются на .txt в текущем каталоге:

`/*.txt`

Символ / в начале шаблона, исключает рекурсивный поиск всех файлов .txt во всех подкаталогах текущего каталога.Это значит, то исключаются только файлы из текущего каталога.* означает любое число симоволов:

``
    a.txt ,
    aadaad.txt,
    x.txt
    ... и тд
``

---

**Удаление файлов**

Для удаления файла из Git, его нужно удалить отслеживаемых,
а затем сделать коммит.
Допустим вы просто удалили файл из каталога:

`rm <имя файла>`

Далее проиндексировали удаление файла:

`git rm <имя файла>`

После чего сделали коммит:

`git commit -m "remove <имя файла>"`

то изменения попадут в базу гита и в последнем изменении будет зафиксированно, что файл был удален.

Но также можно, как упоминалось ранее(`git restore --staged)`, можно не удаляя файл из рабочего каталога, удалить его из индекса командой:

`git rm --staged <файл/ы>`

---

**Просмотр истории коммитов**

При запуске команды:

`git log`

выводится вся история коммитов в обратном хронологическом порядке, последний коммиты-в самом верху.Эта команад перечисляет коммиты и их хэш-суммы.
    
У команды `git log` довольно много опций, перечислю наиболее важные:

```
--patch, -p-отображает разницу, внесенную в каждый коммит, также можно указать число отображаемых записей указав число -2,-3,-1,...
для вывода нужного числа записей

--stat-вывод сокращенной статистики

--pretty-эта опция меняет формат вывода.Форматы вывода:oneline-вывод каждого коммита в одну строку, format-позволяет указать формат для вывода информации.Чтобы увидеть какие опции предоставляет 
git log --pretty=format введите ее в терминал.
```

Пример команды истории коммитов состоящих только из имени автора:

git log --pretty=format:"name: %an"

Подроюнее про форматы и опции вы можете узнать, прочитав про получение справки **Git**.

---

**Отмена изменений**

Допустим вам требуется отменить изменения по какой то причине.Для этого сделайте изменения, проиндексируйте их сделайте коммит с опцией `--ammend`:

`git commit --ammend`

По сути эта команда просто перезаписывает новый коммит на место старого.

Отменить изменения внутри файла можно командой:

`git restore <файл>`

---

* [назад в меню](./readme.md "назад в меню")
